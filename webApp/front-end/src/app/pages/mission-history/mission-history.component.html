<body>
    <header class="custom-head">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <h2>Systeme de controle pour AgileX limo</h2>
    </header>

    <div class="mission-history-container">
        <h2>Mission History</h2>

        <div class="button-group">
            <button mat-raised-button class=" show-logs-btn home-button" [routerLink]="['/home']">
                <mat-icon>home</mat-icon>
                Home
            </button>
            <button mat-raised-button class="show-logs-btn sort-missions-btn" (click)="sortMissionsByDistance()">
                Trier selon la distance
            </button>
            <button mat-raised-button class="show-logs-btn sort-missions-btn" (click)="sortMissionsByDuration()">
                Trier selon la durée
            </button>
            <button mat-raised-button class="show-logs-btn sort-missions-btn" (click)="showMissionsByMode('Mode simulation')">
                Missions simulées
            </button>
            <button mat-raised-button class="show-logs-btn sort-missions-btn" (click)="showMissionsByMode('Mode robots physiques')">
                Missions sur robots physiques
            </button>
            <button mat-raised-button class="show-logs-btn sort-missions-btn" (click)="showMissionsByMode('')">
                Toutes les missions
            </button>
        </div>

        <ng-container class="mission-list" *ngIf="missions ; else noMissions">

            <li *ngFor="let mission of filteredMissions" class="mission-card">
                <div class="mission-info">
                  <p class="mission-name">Mission Name: {{ mission.name }}</p>
                  <p class="mission-data"><b>Date:</b> {{ mission.date | date }}<br><b>Durée:</b> {{ mission.duration }}<br><b>Robots utilisés:</b> {{ mission.robots == "physicalRobot" ? "Les deux robots physiques" : mission.robots}}</p>
                </div>

                <button mat-raised-button class="show-logs-btn" (click)="openMissionOverview(mission)">
                    <mat-icon>visibility</mat-icon>
                    Regarder mission
                </button>
                <button mat-raised-button class="show-logs-btn" (click)="openLogsOverview(mission)">
                    <mat-icon>list</mat-icon>
                    Logs
                </button>
            </li>
        </ng-container>

        <div>
            <ng-template #noMissions>
                <p class="no-missions-message mission-card">No missions available yet.</p>
            </ng-template>
            </div>
        </div>


      <footer class="footer">
        <h4 class="team-name">Équipe 104</h4>
        <p>
          <span>Thibault Demagny</span>, <span>Aymane Chalh</span>, <span>Abderrahim Zebiri</span>,
          <span>Anass El Kettani</span>, <span>Lina Khial</span>, <span>Nada Alami-chentoufi</span>
        </p>
    </footer>
</body>

